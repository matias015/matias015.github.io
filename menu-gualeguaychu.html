<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carta Men√∫ | Casino Gualeguaych√∫</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Theme Overrides for Menu Page - Blue Brand */
        :root {
            --primary-color: #169ad6; /* Blue */
            --primary-hover: #117aab;
            --shadow-gold: 0 4px 20px rgba(22, 154, 214, 0.2);
        }

        body { padding-bottom: 2rem; }
        .menu-hero {
            background-image: url('https://images.unsplash.com/photo-1514362545857-3bc16c4c7d1b?auto=format&fit=crop&q=80&w=1920');
            background-size: cover;
            background-position: center;
            height: 30vh;
            min-height: 200px;
            position: relative;
            display: flex;
            align-items: flex-end;
            margin-bottom: 2rem;
        }
        .menu-hero::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(180deg, rgba(5,5,5,0.3) 0%, rgba(5,5,5,1) 100%);
        }
        .menu-title {
            position: relative;
            z-index: 2;
            width: 100%;
            padding: 2rem 5%;
            padding-bottom: 1rem;
        }
        .menu-section {
            padding: 2rem 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .menu-section:last-child { border-bottom: none; }
        
        .cat-title {
            color: var(--primary-color);
            border-left: 4px solid var(--primary-color);
            padding-left: 1rem;
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .menu-item-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
        }

        .menu-card {
            background: var(--card-bg);
            border-radius: var(--radius-md);
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.05);
            display: flex;
            align-items: center; /* row layout for mobile friendly list look, or stack? Let's do row for compact feeling */
            transition: transform 0.2s;
            padding: 10px;
        }
        .menu-card:hover { transform: translateY(-3px); border-color: var(--primary-color); }
        
        .menu-img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            flex-shrink: 0;
            border-radius: 8px;
        }
        
        .menu-text {
            padding: 1rem;
            flex-grow: 1;
        }
        .menu-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.5rem;
        }
        .menu-name {
            font-size: 1.1rem;
            font-weight: 700;
            color: #fff;
            margin: 0;
        }
        .menu-price {
            color: var(--primary-color);
            font-weight: 900;
            font-size: 1.1rem;
            margin-left: 10px;
        }
        .menu-desc {
            font-size: 0.9rem;
            color: #aaa;
            margin: 0;
            line-height: 1.4;
        }

        .back-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border-radius: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            z-index: 100;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* Loading skeleton */
        .skeleton { color: #666; font-style: italic; }
    </style>
</head>
<body>

    <header class="menu-hero">
        <div class="menu-title container">
            <h1 style="margin: 0; font-size: 2.5rem; line-height: 1;">Carta del Bar</h1>
            <p style="color: #aaa; margin-top: 0.5rem;">Sabores para acompa√±ar tu emoci√≥n</p>
        </div>
    </header>

    <div class="container" id="menu-container">
        <p class="skeleton">Cargando men√∫...</p>
    </div>

    <!-- Floating Back Button -->
    <a href="welcome-gualeguaychu.html" class="back-btn">
        <span>‚¨Ö</span> Volver
    </a>

    <script>
        fetch('gualeguaychu/menu_completo.json')
        .then(response => response.json())
        .then(data => {
            const container = document.getElementById('menu-container');
            container.innerHTML = ''; // Clear loading

            if(!data || data.length === 0) {
                 container.innerHTML = '<p>No hay items disponibles en este momento.</p>';
                 return;
            }

            data.forEach(categoria => {
                // Section
                const section = document.createElement('section');
                section.className = 'menu-section';
                
                // Title
                const title = document.createElement('h2');
                title.className = 'cat-title';
                title.textContent = categoria.categoria;
                section.appendChild(title);

                // Grid
                const grid = document.createElement('div');
                grid.className = 'menu-item-grid';

                // Items
                categoria.items.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'menu-card';
                    
                    // Allow simple formatting of price
                    let priceDisplay = item.precio;
                    if(typeof item.precio === 'number') {
                        priceDisplay = '$' + item.precio.toLocaleString('es-AR');
                    }

                    // Handle missing image
                    const imgHtml = item.imagen 
                        ? `<img src="${item.imagen}" alt="${item.nombre}" class="menu-img">` 
                        : `<div class="menu-img" style="background:#222; display:flex; align-items:center; justify-content:center; color:#444;">üçΩ</div>`;

                    card.innerHTML = `
                        ${imgHtml}
                        <div class="menu-text">
                            <div class="menu-header">
                                <h3 class="menu-name">${item.nombre}</h3>
                                <span class="menu-price">${priceDisplay}</span>
                            </div>
                            <p class="menu-desc">${item.descripcion}</p>
                        </div>
                    `;
                    grid.appendChild(card);
                });

                section.appendChild(grid);
                container.appendChild(section);
            });
        })
        .catch(err => {
            console.error(err);
            document.getElementById('menu-container').innerHTML = '<p style="color:red">Error cargando el men√∫. Intente nuevamente.</p>';
        });
    </script>
</body>
</html>
